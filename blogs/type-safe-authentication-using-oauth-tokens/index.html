<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/commons.36ac9a33ab0dcf91a505.css">.header-module--header--2Q3RK{display:flex;height:75px;align-items:center;box-shadow:0 2.5px 4px rgba(0,0,0,.1);position:fixed;width:100%;z-index:10;background-color:#fff;top:0}.header-module--home-link--15xnn{text-decoration:none;color:inherit;display:flex;align-items:center;width:60%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-module--logo-section--3Q8-7{width:20%;margin-left:50px}.header-module--home-link--15xnn>h1{font-size:2rem;margin-left:.5rem}.header-module--header-image--t_wFI{width:60px}.header-module--header-nav--JLMri{width:55%}.header-module--nav-link--2jqj3{padding:.4rem .8rem;box-sizing:border-box;text-decoration:none;color:inherit;margin-right:2rem;font-weight:500;font-size:.8rem;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-module--nav-link--2jqj3:hover{color:#0096f4}.header-module--social-nav--3LS55{display:flex;margin-right:50px;opacity:.75}.header-module--social-icon--iQP_n{width:25px;padding:.5rem}@media only screen and (max-width:600px){.header-module--header--2Q3RK{display:none}}.search-module--dropdown--scJAx{width:25%;margin-right:50px;position:relative;z-index:99}.search-module--active-input--36xK4{width:205px;height:37.5px;float:right;border-radius:15px;border:none;background:#f8f8f8;padding:0 10px;font-size:.7rem}.search-module--dropdown-content--J8CNd{background-color:#f8f8f8;position:absolute;top:60px;max-height:50vh;min-width:300px;overflow:auto;border-radius:0 0 15px 15px}.search-module--dropdown-content-hide--9GPCf{display:none}.search-module--results-table--1InHv{height:100%}.search-module--search-row--3ToZQ{min-height:50px;width:100%;border-bottom:1px solid #fff}.search-module--search-row--3ToZQ:hover{background-color:#e8e8e8}.search-module--search-cell--2VDZ5{min-width:180px;padding:1rem 0 1rem 5%;color:#0096f4;font-size:.8rem}.search-module--type-cell--1jaXf{min-width:80px;font-size:.8rem;padding:1rem 2.5%;box-sizing:border-box}.search-module--search-row--3ToZQ>a{text-decoration:none;display:inline-block;width:100%}@media only screen and (max-width:600px){.search-module--dropdown--scJAx{width:50%;margin-right:25px}.search-module--active-input--36xK4{width:150px}.search-module--dropdown-content--J8CNd{max-width:150px;right:-10px}}.mobile-header-module--header--2k-0H{display:none}@media only screen and (max-width:600px){.mobile-header-module--header--2k-0H{display:flex;height:75px;position:fixed;top:0;width:100vw;background-color:#fff;align-items:center;box-shadow:0 2.5px 4px rgba(0,0,0,.1);z-index:9999}.mobile-header-module--home-link--tp11w{text-decoration:none;color:inherit;display:flex;align-items:center;width:60%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mobile-header-module--header-image--OoDQK{width:60px}.mobile-header-module--logo-section--38sB4{width:50%;margin-left:25px}.mobile-header-module--home-link--tp11w>h1{font-size:2rem;margin-left:.5rem}.mobile-header-module--header-nav--2IOOv{width:55%}.mobile-header-module--search-section--2jc4_{width:50%;margin-right:25px}.mobile-header-module--search-section--2jc4_>input{width:150px}}.footer-module--footer--3zCYC{display:flex;flex-direction:row;justify-content:center;align-items:center;height:75px;background-color:#0096f4}.footer-module--footer-link--rG16h{margin:0 1rem;text-decoration:none;color:#fff;font-weight:500}.footer-module--separator--3jUsh{height:30%;width:2px;background-color:#fff}@media only screen and (max-width:600px){.footer-module--footer--3zCYC{display:none}}.mobile-nav-module--mobile-nav--39noo{display:none}@media only screen and (max-width:600px){.mobile-nav-module--mobile-nav--39noo{display:block;height:75px;width:100%;position:fixed;bottom:0;box-shadow:1px -2.5px 4px rgba(0,0,0,.1);background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:2}.mobile-nav-module--nav-link--2OUm2{padding:.5em 1em;margin:0 1em;box-sizing:border-box;text-decoration:none;font-size:14px}}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-family:IBM Plex Sans,sans-serif;vertical-align:baseline;color:#535353}code,pre{font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}input:focus{outline-width:0}</style><style data-href="/styles.20f888eab30fa07a5b08.css">.blog-title{font-size:2.1rem;margin:2rem 5vw 1rem}.blog-author{color:#0096f4;margin:1rem 5vw .5rem;font-weight:500}.blog-date{margin:0 5vw 3rem;font-weight:400;font-size:.8rem}.blogs-window{margin:0 5vw;padding-bottom:4rem}.blogs-window h2{font-size:1.7rem;margin:2rem 0}.blogs-window h3{font-size:1.5rem;margin:2rem 0}.blogs-window h4{font-size:1.3rem;margin:2rem 0}.blogs-window h5{font-size:1.1rem;margin:2rem 0}.blogs-window h6{font-size:1rem;margin:2rem 0}.blogs-window p{line-height:26px;margin:1rem 0}.blogs-window ul{list-style:disc;margin-left:2rem}.blogs-window ul li{margin:.6rem 0}.blogs-window ol{margin:1rem 0}.blogs-window ol li{margin:.6rem 0}.blogs-window hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.blogs-window a{color:#0096f4;text-decoration:none}.blogs-window pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;overflow-x:auto;overflow-y:hidden;cursor:pointer}.blogs-window blockquote{background-color:rgba(0,150,244,.13);padding:3%;border-left:4px solid #0096f4}.blogs-window blockquote pre{width:80%}.blogs-window table{margin:0 auto 3rem;width:90%}.blogs-window thead{background-color:rgba(0,150,244,.13);height:10rem}.blogs-window th{padding:1rem 0;font-weight:700}.blogs-window td,.blogs-window th{border:1px solid grey}.blogs-window td:first-child{color:#0096f4;font-weight:600}.blogs-window td{padding:.6rem .2rem}.sidebar-module--sidebar--1WywX{width:300px;background-color:#faf8f8;height:Calc(100vh - 75px);box-shadow:2px 4px 4px rgba(0,0,0,.1);padding:2rem 0;box-sizing:border-box;position:fixed;overflow-y:scroll;z-index:2}.sidebar-module--guides-heading--1mJs7,.sidebar-module--ref-heading--2bL9A{margin-left:2rem;margin-bottom:1.5rem;font-size:1.4rem;font-weight:500}.sidebar-module--hr--2V07Q{margin:2rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.sidebar-module--ref-section--CF469{margin-top:5rem}.sidebar-module--sidebar-section--28iC_{margin-bottom:1.5rem;margin-left:2rem}.sidebar-module--sidebar-parent-item--3w2-A{cursor:pointer;font-weight:400;font-size:1rem}.sidebar-module--nested-sidebar-section--3oLn1{margin-top:.8rem;margin-left:1rem}.sidebar-module--nested-sidebar-item--VnE0W{padding:.5rem 0}.sidebar-module--sidebar-link--M5Z4Z{text-decoration:none;font-size:.8rem;font-weight:400}@media only screen and (max-width:600px){.sidebar-module--sidebar--1WywX{width:50vw;position:fixed;overflow-y:auto;z-index:1}.sidebar-module--docs-section--2zy4l{font-size:1rem}.sidebar-module--sidebar-link--M5Z4Z{font-size:.8rem}}.sidebar-extender-module--burger-icon--1K7MN{display:none}@media only screen and (max-width:600px){.sidebar-extender-module--burger-icon--1K7MN{display:block;position:fixed;bottom:100px;right:20px;padding:.5em;cursor:pointer}.sidebar-extender-module--line--3hC_R{width:15px;height:2px;margin-bottom:3px;background-color:#000}}.docs-window{padding:2.5rem 0 0 3rem;width:70vw;box-sizing:border-box;margin-bottom:2rem;min-height:calc(100vh - 150px);margin-left:300px}.docs-window h1{font-size:2.1rem;margin:2rem 0}.docs-window h2{font-size:1.7rem;margin:2rem 0}.docs-window h3{font-size:1.5rem;margin:2rem 0}.docs-window h4{font-size:1.3rem;margin:2rem 0}.docs-window h5{font-size:1.1rem;margin:2rem 0}.docs-window h6{font-size:1rem;margin:2rem 0}.docs-window p{line-height:26px;margin:1rem 0}.docs-window ul{list-style:disc;margin-left:2rem}.docs-window ul li{margin:.6rem 0}.docs-window ol{margin:1rem 0}.docs-window ol li{margin:.6rem 0}.docs-window hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.docs-window a{color:#0096f4;text-decoration:none}.docs-window .language-text{font-weight:600}.docs-window pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;overflow-x:auto;overflow-y:hidden;cursor:pointer;line-height:1.5rem}.docs-window pre .language-text{font-weight:400}.docs-window span{font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace}.docs-window blockquote{background-color:rgba(0,150,244,.13);padding:1rem 3rem;border-left:4px solid #0096f4}.docs-window blockquote pre{width:80%}.docs-window table{margin:0 auto 3rem;width:90%}.docs-window thead{background-color:rgba(0,150,244,.13);height:10rem}.docs-window th{padding:1rem 0;font-weight:700}.docs-window td,.docs-window th{border:1px solid grey}.docs-window td:first-child{color:#0096f4;font-weight:600}.docs-window td{padding:.6rem .2rem}@media only screen and (max-width:600px){.docs-window-mobile{width:90vw;padding:2rem 2.5vw;display:block;margin:75px auto}.docs-window-mobile h1{font-size:2rem;margin:2rem 0}.docs-window-mobile .h2{font-size:1.8rem;margin:2rem 0}.docs-window-mobile .h3{font-size:1.6rem;margin:2rem 0}.docs-window-mobile h4{font-size:1.4rem;margin:2rem 0}.docs-window-mobile h5{font-size:1.2rem;margin:2rem 0}.docs-window-mobile h6{font-size:1rem;margin:2rem 0}.docs-window-mobile p{line-height:24px;margin:1rem 0}.docs-window-mobile ul{list-style:disc;margin-left:2rem}.docs-window-mobile ul li{margin:.6rem 0}.docs-window-mobile ol{margin:1rem 0}.docs-window-mobile ol li{margin:.6rem 0}.docs-window-mobile hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.docs-window-mobile a{color:#0096f4;text-decoration:none}.docs-window-mobile pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;overflow-x:auto;overflow-y:hidden;cursor:pointer}.docs-window-mobile blockquote{background-color:rgba(0,150,244,.13);padding:3%;border-left:4px solid #0096f4}.docs-window-mobile blockquote pre{width:80%}.docs-window-mobile table{margin:0 auto 3rem;width:90%}.docs-window-mobile thead{background-color:rgba(0,150,244,.13);height:10rem}.docs-window-mobile th{padding:1rem 0;font-weight:700}.docs-window-mobile td,.docs-window-mobile th{border:1px solid grey}.docs-window-mobile td:first-child{color:#0096f4;font-weight:600}.docs-window-mobile td{padding:.6rem .2rem}}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#fa454b}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#f63bb0}.token.function{color:#00a78f}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.blogs-module--page-title--16DUE{font-size:2.2rem;width:80%;margin:4rem auto 3rem}.blogs-module--blog-card--2WJbz{width:80%;margin:2rem auto 1rem;border-bottom:1px solid #000;padding-bottom:2rem}.blogs-module--blog-card--2WJbz:last-child{border-bottom:none}.blogs-module--blog-card--2WJbz>a{text-decoration:none}.blogs-module--blog-title--24s3s{font-size:1.8rem;margin-bottom:1rem}.blogs-module--blog-author--2fZkK{font-size:1.3rem;font-weight:600;color:#0096f4;margin-bottom:.5rem}.blogs-module--blog-date--2fhwE{font-size:1rem;font-weight:500;margin-bottom:1rem}.getting-started-module--hide--2n3fK{display:none}.getting-started-module--underline--AdZu3{height:1px;background-color:#535353;opacity:.3;width:80%;margin:2rem auto}.getting-started-module--main--f6koF{padding:0 10%;margin:3rem 0}.getting-started-module--main--f6koF>h1{font-size:2rem}.getting-started-module--main--f6koF>h2{font-size:1.5rem;font-weight:500}.getting-started-module--main--f6koF>p{margin:1rem 0;line-height:24px;font-size:16px}.getting-started-module--main--f6koF>p>a{text-decoration:none;color:#0096f4}@media only screen and (max-width:600px){.getting-started-module--page-section--2G4qx{padding-top:75px;padding-bottom:75px}}.scroll-indicator-module--scroll-section--3QVxt{display:flex;width:75px;align-items:center;flex-direction:column;position:absolute;bottom:0;left:calc(50vw - 37.25px)}.scroll-indicator-module--scroll-text--2bfeo{font-size:.7rem}.scroll-indicator-module--scroll-indicator--CfeYo{height:25px;width:25px;background-color:#535353;-webkit-clip-path:polygon(45% 30%,55% 30%,55% 65%,65% 65%,50% 80%,35% 65%,45% 65%);clip-path:polygon(45% 30%,55% 30%,55% 65%,65% 65%,50% 80%,35% 65%,45% 65%);-webkit-animation:scroll-indicator-module--bounce--iknNz 1s infinite;animation:scroll-indicator-module--bounce--iknNz 1s infinite;box-sizing:border-box;position:relative}@-webkit-keyframes scroll-indicator-module--bounce--iknNz{0%{top:0}50%{top:5px}to{top:0}}@keyframes scroll-indicator-module--bounce--iknNz{0%{top:0}50%{top:5px}to{top:0}}.scroll-indicator-module--hidden--jYfyy{display:none}@media only screen and (max-width:600px){.scroll-indicator-module--scroll-section--3QVxt{bottom:75px}}.button-module--large-button--17rv8,.button-module--small-button--3pwO1{background:#0096f4;color:#fff;font-weight:700;border-radius:10px;border:none;box-shadow:2px 3px 4px rgba(0,150,244,.4);font-family:IBM Plex Sans,sans-serif}.button-module--large-button--17rv8{height:56.25px;width:225px;font-size:26px}.button-module--small-button--3pwO1{height:47.25px;width:170px;font-size:20px}.button-module--large-button--17rv8:focus,.button-module--small-button--3pwO1:focus{outline:0}.button-module--large-button--17rv8:hover,.button-module--small-button--3pwO1:hover{cursor:pointer}@media only screen and (max-width:600px){.button-module--large-button--17rv8{height:50px;width:200px;font-size:20px}.button-module--small-button--3pwO1{height:35px;width:150px;font-size:18px}}.index-module--landing-section--GgR3e{height:calc(100vh - 75px)}.index-module--cta-section--gnp3X{display:flex;flex-direction:column;align-items:center}.index-module--landing-content--15WnT{width:100%;text-align:center;font-size:52.5px;font-weight:700;margin-bottom:1rem}.index-module--welcome-section--2ejG2{height:100vh;display:grid}.index-module--welcome-content--9vEiI{width:60%;margin-left:50px;margin-top:3rem;grid-column:1/7;grid-row:1/2;margin-bottom:4rem}.index-module--welcome-content--9vEiI>h2{font-size:37.5px;margin-bottom:1.5rem}.index-module--welcome-content--9vEiI>div>p{font-size:18px;line-height:22px;margin-bottom:1rem}.index-module--marketing-section--2XhBZ{margin-left:50px;grid-column:1/8;grid-row:2/4}.index-module--marketing-title--2tTDn{font-size:30px;margin-bottom:1rem}.index-module--marketing-subtitle--1gXIN{font-size:20px;margin-bottom:1rem}.index-module--marketing-card-section--2ndsr{display:flex}.index-module--marketing-card--6Wm5G{width:225px;height:225px;border-radius:10px;margin-right:50px;padding:20px;box-sizing:border-box;text-align:center}.index-module--marketing-card--6Wm5G>h5{font-size:18px;margin-bottom:2rem}.index-module--marketing-card--6Wm5G:first-child{box-shadow:-5px 10px 10px rgba(242,19,70,.1)}.index-module--marketing-card--6Wm5G:first-child>h5{color:#f21346}.index-module--marketing-card--6Wm5G:nth-child(2){box-shadow:-5px 10px 10px rgba(0,150,244,.1)}.index-module--marketing-card--6Wm5G:nth-child(2)>h5{color:#0096f4}.index-module--marketing-card--6Wm5G:nth-child(3){box-shadow:-5px 10px 10px rgba(0,198,137,.1)}.index-module--marketing-card--6Wm5G:nth-child(3)>h5{color:#00c689}.index-module--marketing-text--1F-ce{font-size:14px;line-height:20px}.index-module--sidebar-section--3g8ma{grid-column:9/13;grid-row:1/4;background-color:#fafafa;padding:0 20px;width:412.5px;height:800px;margin-top:3rem;margin-right:50px}.index-module--latest-news-title--2OhB_,.index-module--sidebar-link--260PN{font-size:15px;color:#0096f4;display:block;margin-left:10px;margin-bottom:10px;font-weight:400}.index-module--latest-news-text--2ubSj,.index-module--social-text--2i5Dr{margin-left:20px;margin-bottom:25px;font-size:1rem;line-height:20px}.index-module--useful-links--qY-_w>p{display:flex;flex-direction:column;line-height:1.1rem;font-size:1rem;margin-left:1rem}.index-module--useful-links--qY-_w>p>a{text-decoration:none;margin:1rem 0 .6rem -.5rem;color:#0096f4}.index-module--sidebar-title--14F8m{margin:2rem 0 1rem}.index-module--social-button-section--2A6ds{display:flex;flex-direction:column;align-items:center}.index-module--social-button-section--2A6ds>p{margin-top:.4rem;font-size:10px}@media only screen and (max-width:600px){.index-module--landing-content--15WnT{font-size:2rem;margin:3rem 0}.index-module--welcome-section--2ejG2{display:block;height:auto}.index-module--welcome-content--9vEiI{text-align:center;width:80vw;margin-bottom:3rem}.index-module--welcome-content--9vEiI>h2{font-size:1.6rem}.index-module--welcome-content--9vEiI>p{font-size:.8rem}.index-module--marketing-title--2tTDn{font-size:1.4rem}.index-module--marketing-section--2XhBZ{margin-bottom:75px}.index-module--marketing-subtitle--1gXIN{font-size:1.2rem;margin-bottom:2rem}.index-module--marketing-card-section--2ndsr{flex-direction:column;align-items:center}.index-module--sidebar-section--3g8ma{display:none}}.slanting-graphic-module--main-parent-container--1ZZ25{height:300px;opacity:.6}.slanting-graphic-module--main-top-graphic--3j3lD{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(17% 0,100% 70%,100% 90%,0 40%,0 0);clip-path:polygon(17% 0,100% 70%,100% 90%,0 40%,0 0)}.slanting-graphic-module--main-bottom-graphic--2s4yr{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 15%,100% 84%,100% 100%,0 100%);clip-path:polygon(0 15%,100% 84%,100% 100%,0 100%)}.slanting-graphic-module--left-parent-container--33TS_{height:150px;opacity:.6}.slanting-graphic-module--left-top-graphic--1cv34{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(0 80%,100% 0,100% 70%,0 100%);clip-path:polygon(0 80%,100% 0,100% 70%,0 100%)}.slanting-graphic-module--left-bottom-graphic--29GWr{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 95%,100% 40%,100% 70%,0 100%);clip-path:polygon(0 95%,100% 40%,100% 70%,0 100%)}.slanting-graphic-module--right-parent-container--14cmX{height:150px;opacity:.6}.slanting-graphic-module--right-top-graphic--3aO_U{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(0 0,100% 80%,100% 100%,0 70%);clip-path:polygon(0 0,100% 80%,100% 100%,0 70%)}.slanting-graphic-module--right-bottom-graphic--2Radh{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 40%,100% 95%,100% 100%,0 100%);clip-path:polygon(0 40%,100% 95%,100% 100%,0 100%)}@media only screen and (max-width:600px){.slanting-graphic-module--main-parent-container--1ZZ25{height:180px}.slanting-graphic-module--left-parent-container--33TS_,.slanting-graphic-module--right-parent-container--14cmX{height:100px}}.docs-window-module--learn-container--1C_zd{width:calc(100% - 300px);box-sizing:border-box;display:grid;grid-template-columns:5% 1fr 15% 1fr 5%;grid-template-rows:25% 70%;height:calc(100vh - 75px);margin-left:300px}.docs-window-module--learn-welcome--15zJb{grid-column:2/5;display:flex;flex-direction:column;align-self:center;text-align:center}.docs-window-module--using-docs--1I2tE{grid-column:2/3;line-height:1.8}.docs-window-module--using-docs--1I2tE>p{margin-bottom:1.5rem}.docs-window-module--tutorial-section--2N7Oi>h3,.docs-window-module--using-docs--1I2tE>h3{font-size:1.8rem;margin-bottom:2rem}.docs-window-module--main-heading--1V_6P{font-size:2.5rem;margin:.3rem 0 .5rem}.docs-window-module--sub-heading--3XXTm{font-size:1.6rem;font-weight:400}.docs-window-module--heading-text--3k-jp{font-size:.8rem}.docs-window-module--blue-text--uO-6O{color:#0096f4}.docs-window-module--tutorial-section--2N7Oi{grid-column:4/5}.docs-window-module--tutorials--2Pfvm{display:flex;flex-wrap:wrap;width:100%;line-height:1.5}.docs-window-module--tutorial--3UwtJ{width:40%;padding:.5rem 1rem}.docs-window-module--tutorial--3UwtJ:first-child{border-right:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ:nth-child(3){border-right:1px solid hsla(0,0%,43.9%,.13);border-top:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ:nth-child(4){border-top:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ>a{text-decoration:none}.docs-window-module--tutorial--3UwtJ>a>h4{color:#0096f4;margin-bottom:1rem}@media only screen and (max-width:600px){.docs-window-module--learn-container--1C_zd{width:90vw;display:block;padding:2rem 2.5vw;margin:0 auto 75px}}.news-module--news-container--3AG6Q{display:flex;min-height:calc(100vh - 75px)}.news-module--news-section--2YGgZ{width:40%;padding:5%}.news-module--news-title--5Atk-{font-size:2.2rem;margin-bottom:2rem}.news-module--card-grid--y2gag{display:flex;width:100%;flex-wrap:wrap;height:80%}.news-module--card--1HPt7{width:30%;padding:5%;height:40%;line-height:24px;font-size:1rem}.news-module--card--1HPt7>a{text-decoration:none}.news-module--card--1HPt7>a>h3{margin-bottom:.8rem;color:#0096f4}.news-module--card--1HPt7:first-child{border-right:1px solid hsla(0,0%,43.9%,.19);border-bottom:1px solid hsla(0,0%,43.9%,.19);padding:5% 5% 5% 0}.news-module--card--1HPt7:nth-child(2){border-bottom:1px solid hsla(0,0%,43.9%,.19);padding:5% 0 5% 5%}.news-module--card--1HPt7:nth-child(3){padding:5% 5% 5% 0}.news-module--card--1HPt7:nth-child(4){border-left:1px solid hsla(0,0%,43.9%,.19);padding:5% 0 5% 5%}.news-module--blue-text--1C9kY{color:#0096f4}@media only screen and (max-width:600px){.news-module--news-container--3AG6Q{flex-direction:column;padding-top:75px;margin-bottom:75px}.news-module--news-section--2YGgZ{width:100%}.news-module--card--1HPt7{height:300px}}</style><meta name="generator" content="Gatsby 2.17.0"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ffedc8152185247bd50f8ce8236900fa"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ffedc8152185247bd50f8ce8236900fa"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/component---src-templates-blogs-js-34ffe11eb8c2124cc22f.js"/><link as="script" rel="preload" href="/styles-dc7aa08893e1597a895e.js"/><link as="script" rel="preload" href="/commons-097aa22445a2fdea3fe4.js"/><link as="script" rel="preload" href="/app-e63038bdc85a70ee8bee.js"/><link as="script" rel="preload" href="/webpack-runtime-d66f4b3db84af6b0b9cd.js"/><link as="fetch" rel="preload" href="/page-data/blogs/type-safe-authentication-using-oauth-tokens/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="header-module--header--2Q3RK"><div class="header-module--logo-section--3Q8-7"><a class="header-module--home-link--15xnn" href="/"><img class="header-module--header-image--t_wFI" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAuNiA2OS42IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAuNiA2OS42OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwQkJFNjt9Cgkuc3Qxe2ZpbGw6IzE1MjMzMzt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTY5LjcsNjAuMWMtMTEuOCwwLTIyLjQtNi41LTI3LjgtMTYuNmMtNS40LDEuOC0xMC4xLDUuMy0xMy40LDkuOGMtMi44LTEuNi02LTIuNS05LjQtMi41CgkJCWMtMTAuNSwwLTE5LDguNS0xOSwxOWg3OC4zYzAtMy40LTAuNi02LjYtMS43LTkuN0w2OS43LDYwLjFMNjkuNyw2MC4xeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05NC4zLDU2LjhjMC4xLTAuNCwwLjItMC43LDAuMi0xLjFjMC0xLjctMC45LTMuMS0yLjMtMy45bC0xMC44LTYuMWMzLjYtNC42LDMuOC0xMS4yLDAuMi0xNkw2My44LDYuMQoJCQljLTYuOSw2LjktOS41LDE2LjMtOC4xLDI1LjJMMCwwYzQuNiwxNi42LDE5LjQsMjcuNywzNS44LDI4LjNjMC43LDEuOSw0LjMsMTEuNiw0LjMsMTEuNmMwLjUsMS4yLDEsMi40LDEuNiwzLjZjMCwwLDAsMCwwLDAKCQkJYzIuOC0wLjksNS43LTEuNCw4LjgtMS40YzExLjksMCwyMi4xLDcuNSwyNiwxOC4xSDEwMGwwLDBMOTQuMyw1Ni44eiBNOTAsNTcuMWMtMC44LDAtMS40LTAuNi0xLjQtMS40YzAtMC44LDAuNi0xLjQsMS40LTEuNAoJCQljMC44LDAsMS40LDAuNiwxLjQsMS40QzkxLjUsNTYuNSw5MC44LDU3LjEsOTAsNTcuMXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik04Mi45LDY0LjFIODJ2LTAuM2gyLjF2MC4zaC0wLjl2Mi40aC0wLjRWNjQuMXogTTg0LjYsNjMuOGgwLjVMODYsNjZsMC44LTIuMmgwLjV2Mi43aC0wLjR2LTIuNGwwLDBsLTEsMi40aC0wLjJsLTEtMi40CgkJCWwwLDB2Mi40aC0wLjRWNjMuOHoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K" alt="Kitura Logo"/><h1>KITURA</h1></a></div><nav class="header-module--header-nav--JLMri"><a class="header-module--nav-link--2jqj3" href="/learn">Learn</a><a class="header-module--nav-link--2jqj3" href="/news">Blog</a></nav><div class="search-module--dropdown--scJAx"><form><input type="text" class="search-module--active-input--36xK4" placeholder="Search" aria-label="Search" value=""/></form><div class="search-module--dropdown-content-hide--9GPCf"><table class="search-module--results-table--1InHv"><tbody></tbody></table></div></div><nav class="header-module--social-nav--3LS55"><a target="_blank" href="https://github.com/IBM-Swift/Kitura"><img class="header-module--social-icon--iQP_n" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uIGNvbG9yPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTExLDAuNzU1IEM1LjgzNzgyNjU4LDAuNzQ0NDU4MDAxIDEuNDMzNzMzMzIsNC40ODc4MTYyMSAwLjYxMjMzMzA4Myw5LjU4NDIzMTM0IEMtMC4yMDkwNjcxNTgsMTQuNjgwNjQ2NSAyLjc5NTkxNDI2LDE5LjYxODE0MTMgNy43LDIxLjIzIEM4LjIyNSwyMS4zMDUgOC40NSwyMS4wMDUgOC40NSwyMC43MDUgTDguNDUsMTguOTA1IEM1LjUyNSwxOS41MDUgNC45MjUsMTcuNDggNC45MjUsMTcuNDggQzQuNzQwMjE5NzUsMTYuODQwNDAzOSA0LjMwODQzNDY4LDE2LjMwMDY3MjYgMy43MjUsMTUuOTggQzIuNzUsMTUuMzA1IDMuOCwxNS4zMDUgMy44LDE1LjMwNSBDNC40NjA2NDQwNCwxNS4zODg1NTM2IDUuMDQzNzc5NzgsMTUuNzc3MzEwNyA1LjM3NSwxNi4zNTUgQzYuMDAxNjg4NDEsMTcuNDE5NzIzMyA3LjM0ODEzMjY4LDE3LjgxMzgwNDYgOC40NSwxNy4yNTUgQzguNTAxNTI2MTMsMTYuNzE1NzA1IDguNzQwMzU4NDQsMTYuMjExNTAzNSA5LjEyNSwxNS44MyBDNi44LDE1LjUzIDQuMzI1LDE0LjYzIDQuMzI1LDEwLjY1NSBDNC4zMDQyODE2Nyw5LjYwNjc4MzQzIDQuNjc5MTcxNCw4LjU4OTIyNTYgNS4zNzUsNy44MDUgQzUuMDc4OTA5MDYsNi44ODg4NzUxNCA1LjEwNTM3NjQ5LDUuODk4OTkzNDYgNS40NSw1IEM1LjQ1LDUgNi4zNSw0LjcgOC4zLDYuMDUgQzkuMTU0Njg3NTgsNS44MTAwNDAxMiAxMC4wMzczMTEyLDUuNjgzOTUxMDQgMTAuOTI1LDUuNjc1IEMxMS44MTI2ODg4LDUuNjgzOTUxMDQgMTIuNjk1MzEyNCw1LjgxMDA0MDEyIDEzLjU1LDYuMDUgQzE1LjU3NSw0LjczIDE2LjQsNSAxNi40LDUgQzE2LjgyMzgwNzksNS44NzA5NTE2NiAxNi44NTExNDUxLDYuODgyNDI3OTkgMTYuNDc1LDcuNzc1IEMxNy4xODI4MzUyLDguNTUxOTg1MjMgMTcuNTU5NTUyNCw5LjU3NDUwMzU2IDE3LjUyNSwxMC42MjUgQzE3LjUyNSwxNC42NzUgMTUuMDUsMTUuNTc1IDEyLjcyNSwxNS44IEMxMy4yNDc5MjY0LDE2LjMwOTE4MjUgMTMuNTIxOTQ2NywxNy4wMjE2MzU1IDEzLjQ3NSwxNy43NSBMMTMuNDc1LDIwLjYgQzEzLjQ3NSwyMC45IDEzLjcsMjEuMiAxNC4yMjUsMjEuMTI1IEMxOC41NjU0MDA3LDE5LjgwNTE5NjUgMjEuNTIzNzc4OCwxNS43OTE1NjE5IDIxLjUsMTEuMjU1IEMyMS41LDUuNDU2MDEwMTMgMTYuNzk4OTg5OSwwLjc1NSAxMSwwLjc1NSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzQzLjAwMDAwMCwgLTIxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iaWNvbi9zb2NpYWwvZ2l0aHViLzI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQzLjAwMDAwMCwgMjEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgIDx1c2UgaWQ9Imljb24tY29sb3IiIGZpbGw9IiMwMDAwMDAiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K"/></a><a target="_blank" href="http://slack.kitura.io"><img class="header-module--social-icon--iQP_n" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8IS0tIENyZWF0ZWQgd2l0aCBNZXRob2QgRHJhdyAtIGh0dHA6Ly9naXRodWIuY29tL2R1b3BpeGVsL01ldGhvZC1EcmF3LyAtLT4KCiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI2IiB3aWR0aD0iMjYiIHk9Ii0xIiB4PSItMSIvPgogIDxnIGRpc3BsYXk9Im5vbmUiIG92ZXJmbG93PSJ2aXNpYmxlIiB5PSIwIiB4PSIwIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIiBpZD0iY2FudmFzR3JpZCI+CiAgIDxyZWN0IGZpbGw9InVybCgjZ3JpZHBhdHRlcm4pIiBzdHJva2Utd2lkdGg9IjAiIHk9IjEiIHg9IjEiIGhlaWdodD0iMjIiIHdpZHRoPSIyMiIvPgogIDwvZz4KIDwvZz4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZWxsaXBzZSByeT0iMTEiIHJ4PSIxMSIgaWQ9InN2Z18xIiBjeT0iMTIiIGN4PSIxMiIgc3Ryb2tlPSIjMDAwIiBmaWxsPSIjMDAwMDAwIi8+CiAgPHN0eWxlIHRyYW5zZm9ybT0ibWF0cml4KDAuMDY1MTgyNDk1NTczMjUzNjIsMCwwLDAuMDY1MTgyNDk1NTczMjUzNjIsMCwwKSAiIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6I0ZGRkZGRjt9PC9zdHlsZT4KICA8ZyBzdHJva2U9Im51bGwiIGlkPSJzdmdfMTkiPgogICA8ZyBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0ibWF0cml4KDAuMTMwMTU1ODA4NTE4MDk0ODYsMCwwLDAuMTMwMTU1ODA4NTE4MDk0ODYsLTYuODQ5MDA2NDUwNDA1NDk5LC02LjgzMTUwNzM5MTAyMTkyNCkgIiBpZD0ic3ZnXzYiPgogICAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzciPgogICAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z184IiBkPSJtMTEwLjI5ODI5MiwxNjEuMjkzMDExYzAsNy4xIC01LjgsMTIuOSAtMTIuOSwxMi45cy0xMi45LC01LjggLTEyLjksLTEyLjljMCwtNy4xIDUuOCwtMTIuOSAxMi45LC0xMi45bDEyLjksMGwwLDEyLjl6IiBjbGFzcz0ic3QwIi8+CiAgICAgPHBhdGggc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzkiIGQ9Im0xMTYuNzk4MjkyLDE2MS4yOTMwMTFjMCwtNy4xIDUuOCwtMTIuOSAxMi45LC0xMi45czEyLjksNS44IDEyLjksMTIuOWwwLDMyLjNjMCw3LjEgLTUuOCwxMi45IC0xMi45LDEyLjlzLTEyLjksLTUuOCAtMTIuOSwtMTIuOWMwLDAgMCwtMzIuMyAwLC0zMi4zeiIgY2xhc3M9InN0MCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzEwIj4KICAgICA8cGF0aCBzdHJva2U9Im51bGwiIGlkPSJzdmdfMTEiIGQ9Im0xMjkuNjk4MjkyLDEwOS40OTMwMTFjLTcuMSwwIC0xMi45LC01LjggLTEyLjksLTEyLjlzNS44LC0xMi45IDEyLjksLTEyLjlzMTIuOSw1LjggMTIuOSwxMi45bDAsMTIuOWwtMTIuOSwweiIgY2xhc3M9InN0MCIvPgogICAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xMiIgZD0ibTEyOS42OTgyOTIsMTE1Ljk5MzAxMWM3LjEsMCAxMi45LDUuOCAxMi45LDEyLjlzLTUuOCwxMi45IC0xMi45LDEyLjlsLTMyLjMsMGMtNy4xLDAgLTEyLjksLTUuOCAtMTIuOSwtMTIuOXM1LjgsLTEyLjkgMTIuOSwtMTIuOWMwLDAgMzIuMywwIDMyLjMsMHoiIGNsYXNzPSJzdDAiLz4KICAgIDwvZz4KICAgIDxnIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xMyI+CiAgICAgPHBhdGggc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzE0IiBkPSJtMTgxLjQ5ODI5MiwxMjguODkzMDExYzAsLTcuMSA1LjgsLTEyLjkgMTIuOSwtMTIuOWM3LjEsMCAxMi45LDUuOCAxMi45LDEyLjlzLTUuOCwxMi45IC0xMi45LDEyLjlsLTEyLjksMGwwLC0xMi45eiIgY2xhc3M9InN0MCIvPgogICAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xNSIgZD0ibTE3NC45OTgyOTIsMTI4Ljg5MzAxMWMwLDcuMSAtNS44LDEyLjkgLTEyLjksMTIuOWMtNy4xLDAgLTEyLjksLTUuOCAtMTIuOSwtMTIuOWwwLC0zMi4zYzAsLTcuMSA1LjgsLTEyLjkgMTIuOSwtMTIuOWM3LjEsMCAxMi45LDUuOCAxMi45LDEyLjlsMCwzMi4zeiIgY2xhc3M9InN0MCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzE2Ij4KICAgICA8cGF0aCBzdHJva2U9Im51bGwiIGlkPSJzdmdfMTciIGQ9Im0xNjIuMDk4MjkyLDE4MC42OTMwMTFjNy4xLDAgMTIuOSw1LjggMTIuOSwxMi45YzAsNy4xIC01LjgsMTIuOSAtMTIuOSwxMi45Yy03LjEsMCAtMTIuOSwtNS44IC0xMi45LC0xMi45bDAsLTEyLjlsMTIuOSwweiIgY2xhc3M9InN0MCIvPgogICAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xOCIgZD0ibTE2Mi4wOTgyOTIsMTc0LjE5MzAxMWMtNy4xLDAgLTEyLjksLTUuOCAtMTIuOSwtMTIuOWMwLC03LjEgNS44LC0xMi45IDEyLjksLTEyLjlsMzIuMywwYzcuMSwwIDEyLjksNS44IDEyLjksMTIuOWMwLDcuMSAtNS44LDEyLjkgLTEyLjksMTIuOWwtMzIuMywweiIgY2xhc3M9InN0MCIvPgogICAgPC9nPgogICA8L2c+CiAgPC9nPgogPC9nPgo8L3N2Zz4="/></a></nav></header><header class="mobile-header-module--header--2k-0H"><div class="mobile-header-module--logo-section--38sB4"><a class="mobile-header-module--home-link--tp11w" href="/"><img class="mobile-header-module--header-image--OoDQK" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAuNiA2OS42IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAuNiA2OS42OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwQkJFNjt9Cgkuc3Qxe2ZpbGw6IzE1MjMzMzt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTY5LjcsNjAuMWMtMTEuOCwwLTIyLjQtNi41LTI3LjgtMTYuNmMtNS40LDEuOC0xMC4xLDUuMy0xMy40LDkuOGMtMi44LTEuNi02LTIuNS05LjQtMi41CgkJCWMtMTAuNSwwLTE5LDguNS0xOSwxOWg3OC4zYzAtMy40LTAuNi02LjYtMS43LTkuN0w2OS43LDYwLjFMNjkuNyw2MC4xeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05NC4zLDU2LjhjMC4xLTAuNCwwLjItMC43LDAuMi0xLjFjMC0xLjctMC45LTMuMS0yLjMtMy45bC0xMC44LTYuMWMzLjYtNC42LDMuOC0xMS4yLDAuMi0xNkw2My44LDYuMQoJCQljLTYuOSw2LjktOS41LDE2LjMtOC4xLDI1LjJMMCwwYzQuNiwxNi42LDE5LjQsMjcuNywzNS44LDI4LjNjMC43LDEuOSw0LjMsMTEuNiw0LjMsMTEuNmMwLjUsMS4yLDEsMi40LDEuNiwzLjZjMCwwLDAsMCwwLDAKCQkJYzIuOC0wLjksNS43LTEuNCw4LjgtMS40YzExLjksMCwyMi4xLDcuNSwyNiwxOC4xSDEwMGwwLDBMOTQuMyw1Ni44eiBNOTAsNTcuMWMtMC44LDAtMS40LTAuNi0xLjQtMS40YzAtMC44LDAuNi0xLjQsMS40LTEuNAoJCQljMC44LDAsMS40LDAuNiwxLjQsMS40QzkxLjUsNTYuNSw5MC44LDU3LjEsOTAsNTcuMXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik04Mi45LDY0LjFIODJ2LTAuM2gyLjF2MC4zaC0wLjl2Mi40aC0wLjRWNjQuMXogTTg0LjYsNjMuOGgwLjVMODYsNjZsMC44LTIuMmgwLjV2Mi43aC0wLjR2LTIuNGwwLDBsLTEsMi40aC0wLjJsLTEtMi40CgkJCWwwLDB2Mi40aC0wLjRWNjMuOHoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K" alt="Kitura Logo"/><h1>KITURA</h1></a></div><div class="search-module--dropdown--scJAx"><form><input type="text" class="search-module--active-input--36xK4" placeholder="Search" aria-label="Search" value=""/></form><div class="search-module--dropdown-content-hide--9GPCf"><table class="search-module--results-table--1InHv"><tbody></tbody></table></div></div></header><main style="margin-top:75px"><h1 class="blog-title">Type-Safe Authentication using OAuth tokens</h1><h3 class="blog-author">By <!-- -->David Jones</h3><h4 class="blog-date">Created on <!-- -->2018-06-29</h4><div class="blogs-window"><h2 id="introduction"><a href="#introduction" aria-label="introduction permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>In the 2.4 release of Kitura, we introduced a facility called <a href="type-safe-middleware">Type-Safe Middleware</a>, and with it two conforming implementations: Sessions and Credentials.</p>
<p>If you need to authenticate users of your API, you can use Credentials to specify a middleware when registering your Codable route handler. The handler is invoked only after successful authentication, and an instance of that middleware provides convenient and type-safe access to the user’s profile.</p>
<p>With the release of Type-Safe Credentials, we provided a type-safe implementation of HTTP Basic authentication. We’re now pleased to introduce two additional forms of authentication: Google and Facebook OAuth tokens.</p>
<p>In addition, a new  <a href="https://ibm-swift.github.io/Kitura-Credentials/Protocols/TypeSafeMultiCredentials.html"><code class="language-text">TypeSafeMultiCredentials</code></a>  protocol allows a single route handler to accept multiple forms of authentication.</p>
<hr>
<h2 id="authentication-using-oauth-tokens"><a href="#authentication-using-oauth-tokens" aria-label="authentication using oauth tokens permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication using OAuth Tokens</h2>
<p>A number of service providers support access delegation using <a href="https://en.wikipedia.org/wiki/OAuth">OAuth</a> tokens: an ability for a subject to share elements of their user profile with your application, without specifying a password. The token grants the bearer limited access to the subject’s profile – such as to obtain their user id, name or e-mail address.</p>
<p>The token also acts as proof that the subject is who they claim to be: in order to generate the token, they must have successfully logged into that service provider, and consented to share information with your application.</p>
<p>Let’s take a look at how we can handle authentication using OAuth tokens from two providers: Google and Facebook.</p>
<h3 id="google-oauth-token"><a href="#google-oauth-token" aria-label="google oauth token permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Google OAuth Token</h3>
<p><a href="https://github.com/IBM-Swift/Kitura-CredentialsGoogle">Kitura-CredentialsGoogle</a> makes it simple to create a type-safe middleware that authenticates an incoming request against <a href="https://developers.google.com/identity/protocols/googlescopes#oauth2v2">Google’s OAuth2 userinfo API</a>.</p>
<p>Start by declaring a dependency on  <code class="language-text">Kitura-CredentialsGoogle</code>  in your  <code class="language-text">Package.swift</code>:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> package <span class="token operator">=</span> <span class="token function">Package</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span> dependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">.</span><span class="token function">package</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token string">"https://github.com/IBM-Swift/Kitura-CredentialsGoogle.git"</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> <span class="token string">"2.2.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  targets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span>
            dependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">"Kitura"</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token string">"CredentialsGoogle"</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p>and import the dependency within your application:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">CredentialsGoogle</span></code></pre></div>
<p>To authenticate an incoming request that provides a Google OAuth token, you can use the pre-defined  <a href="https://ibm-swift.github.io/Kitura-CredentialsGoogle/Structs/GoogleTokenProfile.html">GoogleTokenProfile</a>  type as a middleware when registering a Codable route handler:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/protected"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>user<span class="token punctuation">:</span> <span class="token builtin">GoogleTokenProfile</span><span class="token punctuation">,</span>
        respondWith<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">GoogleTokenProfile</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token builtin">RequestError</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token keyword">in</span>

    <span class="token function">respondWith</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token constant">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Alternatively, you can customize this type by defining a conformance to the  <a href="https://ibm-swift.github.io/Kitura-CredentialsGoogle/Protocols/TypeSafeGoogleToken.html">TypeSafeGoogleToken</a>  protocol:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">CredentialsGoogle</span>

<span class="token keyword">struct</span> <span class="token builtin">MyGoogleUser</span><span class="token punctuation">:</span> <span class="token builtin">TypeSafeGoogleToken</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> email<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The <code class="language-text">MyGoogleUser</code>  type can then be substituted for the  <code class="language-text">GoogleTokenProfile</code>  type, and will provide access to only the three fields declared.</p>
<h3 id="facebook-oauth-token"><a href="#facebook-oauth-token" aria-label="facebook oauth token permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook OAuth Token</h3>
<p><a href="https://github.com/IBM-Swift/Kitura-CredentialsFacebook">Kitura-CredentialsFacebook</a> defines the equivalent types for authenticating against <a href="https://developers.facebook.com/docs/graph-api/">Facebook’s Graph API</a>.</p>
<p>Start by declaring a dependency on  <code class="language-text">Kitura-CredentialsFacebook</code>  in your  <code class="language-text">Package.swift</code>:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> package <span class="token operator">=</span> <span class="token function">Package</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span> dependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">.</span><span class="token function">package</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token string">"https://github.com/IBM-Swift/Kitura-CredentialsFacebook.git"</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> <span class="token string">"2.2.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  targets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span>
            dependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">"Kitura"</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token string">"CredentialsFacebook"</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p>To authenticate an incoming request that provides a Facebook OAuth token, you can use the pre-defined <a href="https://ibm-swift.github.io/Kitura-CredentialsFacebook/Structs/FacebookTokenProfile.html">FacebookTokenProfile</a> type as a middleware:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">CredentialsFacebook</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment">// Optionally, specify your Facebook App ID to only accept tokens that were</span>
<span class="token comment">// issued to your application.</span>
<span class="token builtin">FacebookTokenProfile</span><span class="token punctuation">.</span>appID <span class="token operator">=</span> <span class="token string">"&lt;your app id>"</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/protected"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>user<span class="token punctuation">:</span> <span class="token builtin">FacebookTokenProfile</span><span class="token punctuation">,</span>
         respondWith<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">FacebookTokenProfile</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token builtin">RequestError</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token keyword">in</span>

    <span class="token function">respondWith</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token constant">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Again, you can create a custom type by defining a conformance to the <a href="https://ibm-swift.github.io/Kitura-CredentialsFacebook/Protocols/TypeSafeFacebookToken.html">TypeSafeFacebookToken</a> protocol:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">CredentialsFacebook</span>

<span class="token keyword">struct</span> <span class="token builtin">MyFacebookUser</span><span class="token punctuation">:</span> <span class="token builtin">TypeSafeFacebookToken</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> email<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span>

    <span class="token keyword">static</span> <span class="token keyword">var</span> appID<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string">"&lt;your app id>"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>However, there are some key differences between the Google and Facebook methods that warrant some closer examination:</p>
<ol>
<li>Profile contents</li>
</ol>
<p>The Google userinfo API provides a fixed profile of information where the subject may optionally choose to share their e-mail address and gender. Requests to Google’s API do not specify which fields are desired: all granted fields are returned.</p>
<p>In contrast, the Facebook Graph API requires you to specify which fields of a subject’s profile you wish to access. The token determines what subset of these fields have been granted to you by the subject.</p>
<p>In order to determine which fields should be requested from Facebook, the  <a href="https://ibm-swift.github.io/Kitura-CredentialsFacebook/Protocols/TypeSafeFacebook.html">TypeSafeFacebook</a>  protocol specifies a list of  <code class="language-text">validFieldNames</code>  that can be requested from the API. The properties declared by your type are filtered against this list, and the resulting set requested from Facebook. The Facebook response is used to initialize those properties when a user is authenticated.</p>
<blockquote>
<p>This requires all other properties of your type to be <code class="language-text">optional</code>.</p>
</blockquote>
<p>The built-in list of field names is likely to be sufficient for most cases but can be overridden by your type if needed.</p>
<ol start="2">
<li>App-scoped Identifiers and OAuth AppID verification</li>
</ol>
<p>The Facebook  <code class="language-text">id</code>  field is application-scoped. This means that for a given subject, the value of their id is dependent on the OAuth app that was granted access. The value is still globally unique – meaning that the same value will not be assigned to a different subject in a different application scope.</p>
<p>In order to establish the user’s identity in the context of your application, we first verify that the supplied token was issued to your App. If the App ID matches, then the token is used to retrieve the subject’s identity. However, if you do not specify a value for  <code class="language-text">appID</code>, this verification will be skipped and any valid token will be accepted.</p>
<h3 id="caching-of-tokens"><a href="#caching-of-tokens" aria-label="caching of tokens permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Caching of Tokens</h3>
<p>Rather than querying the service provider upon every incoming request, profiles are cached against their respective token using an in-memory cache.</p>
<p>Note that there is a behavioral difference between profiles that are defined as structs or classes: if you declare your profile as a struct, changes are not persistent within the cache. If the profile type is a class, then if its properties are changed, the changes will be reflected upon subsequent retrievals from the cache. You should consider using a class type if you need to be able to modify the token profile type.</p>
<hr>
<h2 id="multiple-authentication-methods"><a href="#multiple-authentication-methods" aria-label="multiple authentication methods permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple authentication methods</h2>
<p>The above examples show how to require a specific type of authentication to access a resource. However, it is common to accept multiple forms of authentication – such as tokens from multiple authentication providers.</p>
<p>The  <a href="https://ibm-swift.github.io/Kitura-Credentials/Protocols/TypeSafeMultiCredentials.html">TypeSafeMultiCredentials</a>  protocol provides a way to define a <code class="language-text">TypeSafeMiddleware</code> that permits authentication against a list of methods – an array of  <a href="https://ibm-swift.github.io/Kitura-Credentials/Protocols/TypeSafeCredentials.html">TypeSafeCredentials</a>  types, such as the ones we defined above.</p>
<p>To use this facility, define a type that conforms to the protocol. This requires that you define an  <code class="language-text">authenticationMethods</code>  property that lists the permitted authentication methods, and an initializer that takes a  <code class="language-text">TypeSafeCredentials</code>  parameter. For example:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">Credentials</span>

<span class="token keyword">struct</span> <span class="token builtin">MyMultiAuthedUser</span><span class="token punctuation">:</span> <span class="token builtin">TypeSafeMultiCredentials</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>                   <span class="token comment">// Protocol requirement</span>
    <span class="token keyword">let</span> provider<span class="token punctuation">:</span> <span class="token builtin">String</span>             <span class="token comment">// Protocol requirement</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>                 <span class="token comment">// Custom property</span>
    <span class="token keyword">let</span> email<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span>               <span class="token comment">// Custom, optional property</span>

    <span class="token keyword">static</span> <span class="token keyword">var</span> authenticationMethods<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TypeSafeCredentials</span><span class="token punctuation">.</span><span class="token keyword">Type</span><span class="token punctuation">]</span>
            <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">MyBasicAuth</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> <span class="token builtin">MyFacebookUser</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> <span class="token builtin">MyGoogleUser</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">]</span>

    <span class="token keyword">init</span><span class="token punctuation">(</span>successfulAuth<span class="token punctuation">:</span> <span class="token builtin">TypeSafeCredentials</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>id <span class="token operator">=</span> successfulAuth<span class="token punctuation">.</span>id
        <span class="token keyword">self</span><span class="token punctuation">.</span>provider <span class="token operator">=</span> successfulAuth<span class="token punctuation">.</span>provider

        <span class="token comment">// Initialize additional properties based on authentication type.</span>
        <span class="token keyword">switch</span> successfulAuth <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token keyword">let</span> googleToken <span class="token keyword">as</span> <span class="token builtin">MyGoogleUser</span><span class="token punctuation">:</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> googleToken<span class="token punctuation">.</span>name
            <span class="token keyword">self</span><span class="token punctuation">.</span>email <span class="token operator">=</span> googleToken<span class="token punctuation">.</span>email
        <span class="token keyword">case</span> <span class="token keyword">let</span> facebookToken <span class="token keyword">as</span> <span class="token builtin">MyFacebookUser</span><span class="token punctuation">:</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> facebookToken<span class="token punctuation">.</span>name
            <span class="token keyword">self</span><span class="token punctuation">.</span>email <span class="token operator">=</span> facebookToken<span class="token punctuation">.</span>email
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> successfulAuth<span class="token punctuation">.</span>id    <span class="token comment">// Map id to name for HTTP Basic</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token constant">nil</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<blockquote>
<p>The <code class="language-text">MyBasicAuth</code> type represents HTTP Basic authentication, and the code can be found in the previous post: <a href="/blogs/type-safe-middleware">A new kind of Kitura middleware: type-safe and easy to use</a>.</p>
</blockquote>
<p>This type can then be used in your Codable route handler, in the same way as before:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">app<span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/multiAuthProfile"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>userProfile<span class="token punctuation">:</span> <span class="token builtin">MyMultiAuthedUser</span><span class="token punctuation">,</span>
         respondWith<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">MyMultiAuthedUser</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token builtin">RequestError</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token keyword">in</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Authenticated <span class="token interpolation"><span class="token delimiter variable">\(</span>userProfile<span class="token punctuation">.</span>id<span class="token delimiter variable">)</span></span> using <span class="token interpolation"><span class="token delimiter variable">\(</span>userProfile<span class="token punctuation">.</span>provider<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
    <span class="token function">respondWith</span><span class="token punctuation">(</span>userProfile<span class="token punctuation">,</span> <span class="token constant">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="client-side-support-with-kiturakit"><a href="#client-side-support-with-kiturakit" aria-label="client side support with kiturakit permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Client-side support with KituraKit</h2>
<p>Support has also been added to KituraKit for supplying token or HTTP Basic credentials. The client now has a  <code class="language-text">defaultCredentials: ClientCredentials?</code>  property that can be used to specify the credentials that should be supplied for each request from this client.</p>
<p>As an example, let’s use KituraKit to retrieve the user profile corresponding to a set of credentials, using the <code class="language-text">/multiAuthProfile</code> route we defined earlier. First we need a type to represent the profile information on the client side:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">AuthedUser</span><span class="token punctuation">:</span> <span class="token builtin">Codable</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> provider<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> email<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now we can define a set of default credentials – in this case, HTTP Basic – to be used when accessing the server:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">KituraKit</span>

<span class="token comment">// Create a KituraKit client</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> client <span class="token operator">=</span> <span class="token function">KituraKit</span><span class="token punctuation">(</span>baseURL<span class="token punctuation">:</span> <span class="token string">"http://localhost:8080"</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">fatalError</span><span class="token punctuation">(</span><span class="token string">"Unable to create client"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Assign default credentials to this client</span>
client<span class="token punctuation">.</span>defaultCredentials <span class="token operator">=</span> <span class="token function">HTTPBasic</span><span class="token punctuation">(</span>username<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> password<span class="token punctuation">:</span> <span class="token string">"12345"</span><span class="token punctuation">)</span>

<span class="token comment">// Make a request using the default credentials</span>
client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/multiAuthProfile"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>returnedItem<span class="token punctuation">:</span> <span class="token builtin">AuthedUser</span><span class="token operator">?</span><span class="token punctuation">,</span>
        error<span class="token punctuation">:</span> <span class="token builtin">Error</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token keyword">in</span>

    <span class="token keyword">guard</span> <span class="token keyword">let</span> returnedItem <span class="token operator">=</span> returnedItem <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Failed to retrieve user profile with default credentials: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Response with default credentials: <span class="token interpolation"><span class="token delimiter variable">\(</span>returnedItem<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This results in the output:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Response with default credentials: AuthedUser(id: &quot;John&quot;, provider: &quot;HTTPBasic&quot;, name: &quot;John&quot;, email: nil)</code></pre></div>
<p>You can override the  <code class="language-text">defaultCredentials</code>  for an individual request by specifying the <code class="language-text">credentials: ClientCredentials?</code> parameter:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> googleToken <span class="token operator">=</span> <span class="token string">"abc123"</span>  <span class="token comment">// Your Google access token</span>

<span class="token comment">// Make a request using specific credentials</span>
client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/multiAuthProfile"</span><span class="token punctuation">,</span> credentials<span class="token punctuation">:</span> <span class="token function">GoogleToken</span><span class="token punctuation">(</span>token<span class="token punctuation">:</span> googleToken<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>returnedItem<span class="token punctuation">:</span> <span class="token builtin">AuthedUser</span><span class="token operator">?</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span> <span class="token builtin">Error</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token keyword">in</span>

    <span class="token keyword">guard</span> <span class="token keyword">let</span> returnedItem <span class="token operator">=</span> returnedItem <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Failed to retrieve user profile with Google token: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Response with Google token: <span class="token interpolation"><span class="token delimiter variable">\(</span>returnedItem<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This results in output corresponding to the Google profile information provided via the token:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Response with Google token: AuthedUser(id: &quot;1234567890&quot;, provider: &quot;Google&quot;, name: &quot;John Doe&quot;, email: Optional(&quot;john_doe@invalid.com&quot;))</code></pre></div>
<p>Finally, if you have set the default credentials but then wish to make a request from that client without supplying credentials, you can specify the <code class="language-text">NilCredentials</code> type:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token comment">// Make a request without providing credentials</span>
client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/multiAuthProfile"</span><span class="token punctuation">,</span> credentials<span class="token punctuation">:</span> <span class="token function">NilCredentials</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>returnedItem<span class="token punctuation">:</span> <span class="token builtin">AuthedUser</span><span class="token operator">?</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span> <span class="token builtin">Error</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token keyword">in</span>

    <span class="token keyword">guard</span> <span class="token keyword">let</span> error <span class="token operator">=</span> error <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Unexpected success without credentials: <span class="token interpolation"><span class="token delimiter variable">\(</span>returnedItem<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Response without credentials: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Which results in:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Response without credentials: 401 : Unauthorized</code></pre></div>
<hr>
<h2 id="next-steps"><a href="#next-steps" aria-label="next steps permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next steps</h2>
<p>Now that we can identify a user and some basic profile information, we may wish to associate a more rich and domain-specific user profile with them, and have access to this profile within our handlers too.</p>
<p>In a future post, we’ll look at how we can use <a href="https://github.com/IBM-Swift/Swift-Kuery-ORM">Swift-Kuery-ORM</a> to easily store and retrieve user profiles in Codable routes.</p>
<p>Join the <a href="http://swift-at-ibm-slack.mybluemix.net/?cm_sp=dw-bluemix-_-swift-_-devcenter&#x26;_ga=2.78945687.2052919715.1571393501-1533615335.1571393501">Kitura community on Slack</a> to discuss your thoughts or questions on this topic or Kitura in general.</p></div></main><nav class="mobile-nav-module--mobile-nav--39noo"><a class="mobile-nav-module--nav-link--2OUm2" href="/">Home</a><a class="mobile-nav-module--nav-link--2OUm2" href="/learn">Learn</a><a class="mobile-nav-module--nav-link--2OUm2" href="/news">Blog</a><a class="mobile-nav-module--nav-link--2OUm2" href="https://github.com/IBM-Swift/Kitura" target="_blank" rel="noopener noreferrer">GitHub</a><a class="mobile-nav-module--nav-link--2OUm2" href="http://slack.kitura.io">Slack</a></nav><footer class="footer-module--footer--3zCYC"><a class="footer-module--footer-link--rG16h" href="/privacy">Privacy</a><div class="footer-module--separator--3jUsh"></div><a href="https://github.com/IBM-Swift/Kitura/blob/master/LICENSE.txt" class="footer-module--footer-link--rG16h">License</a></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blogs/type-safe-authentication-using-oauth-tokens";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e63038bdc85a70ee8bee.js"],"component---src-templates-blogs-js":["/component---src-templates-blogs-js-34ffe11eb8c2124cc22f.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-ef5b1920ddb6887fc6b6.js"],"component---src-pages-blogs-js":["/component---src-pages-blogs-js-862b4ba1e69abe58bea7.js"],"component---src-pages-getting-started-js":["/component---src-pages-getting-started-js-1f4e67fce531f9f176a6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-0dc2178e927e3805f102.js"],"component---src-pages-learn-js":["/component---src-pages-learn-js-df4702ea1c03ea9b18d9.js"],"component---src-pages-news-js":["/component---src-pages-news-js-63ec9208d1b2b93f87a8.js"],"component---src-pages-privacy-js":["/component---src-pages-privacy-js-0eeae25b5e6cfaaa1649.js"]};/*]]>*/</script><script src="/webpack-runtime-d66f4b3db84af6b0b9cd.js" async=""></script><script src="/app-e63038bdc85a70ee8bee.js" async=""></script><script src="/commons-097aa22445a2fdea3fe4.js" async=""></script><script src="/styles-dc7aa08893e1597a895e.js" async=""></script><script src="/component---src-templates-blogs-js-34ffe11eb8c2124cc22f.js" async=""></script></body></html>